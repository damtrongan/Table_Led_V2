Function use to read newest file from path

async function readNewestFilePath(paths) {
  let contents = {};
  for (const path of paths) {
    const pathYear = await getNewestPath(path);
    const pathMonth = await getNewestPath(pathYear);
    const pathDay = await getNewestPath(pathMonth);
    const pathFile = await getNewestPath(pathDay); // Path file text
    const content = await fs.readFile(pathFile, "utf8"); // Data content file txt

    const nameStation = path.split("/").pop(); //Get name station
    //console.log(nameStation);

    const spliceData = content.split("\n"); //Bỏ ký tự /n và tách mỗi dòng thành 1 phần tử trong mảng

    let parameterOut = {};
    for (const line of spliceData) {
      var slicesArray = line.split("\t");
      //parameterOut[`para${spliceData.indexOf(line)+1}`] = line.split('\t')
      parameterOut[`para${spliceData.indexOf(line) + 1}`] = {
        name: slicesArray[0],
        value: slicesArray[1],
        unit: slicesArray[2],
        time: slicesArray[3],
        status: slicesArray[4],
      };
    }
    contents[nameStation] = parameterOut;
  }
  return contents;
}
